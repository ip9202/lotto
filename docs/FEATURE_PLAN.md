# 로또리아 AI - 새로운 기능 개발 기획서 🎯

> 작성일: 2025-01-09  
> 브랜치: `feature/auth-system`  
> 상태: 개발 진행 중

## 📋 기획 개요

로또리아 AI 서비스에 사용자 계정 시스템과 고급 기능들을 추가하여 더욱 개인화되고 실용적인 서비스로 발전시키는 것이 목표입니다.

## 🚀 추가할 주요 기능

### 1. 소셜 로그인 (카카오, 네이버) 📱
- **목적**: 간편한 회원가입/로그인으로 사용자 진입장벽 낮추기
- **지원 플랫폼**: 카카오톡, 네이버
- **구현 방식**: OAuth2 인증

### 2. 계정별 추천번호 저장 💾
- **목적**: 사용자가 마음에 드는 AI 추천 번호를 저장하고 관리
- **기능**: 
  - 추천받은 번호 중 "저장" 버튼으로 개인 보관함에 저장
  - 저장된 번호 목록 조회 및 관리
  - 저장 시점의 신뢰도 점수도 함께 보존

### 3. 매주 당첨번호 비교 및 순위 알림 🏆
- **목적**: 사용자가 저장한 번호들의 당첨 여부 자동 확인
- **기능**:
  - 매주 당첨번호 발표 후 자동으로 사용자 저장 번호와 비교
  - 당첨 순위(1등~5등) 및 예상 당첨금액 알림
  - 당첨 통계 및 분석 제공

### 4. 당첨이력 저장 📊
- **목적**: 사용자의 누적 당첨 기록 관리 및 통계 제공
- **기능**:
  - 회차별 당첨 내역 저장
  - 총 당첨금액, 당첨 횟수 통계
  - 가장 잘 맞춘 번호, 패턴 분석
  - CSV 내보내기 기능

### 5. 유료 서비스 💰
- **목적**: 서비스 수익화 및 프리미엄 기능 제공
- **무료 vs 유료 구분**:
  - **무료**: 일일 추천 5개, 저장 10개 제한
  - **유료**: 무제한 추천, 무제한 저장, 고급 분석 기능
- **결제**: 포트원 또는 토스페이먼츠 연동

## 🎯 개발 단계별 계획

### 1단계: 기본 인증 시스템 구축 (2주)
- [x] 브랜치 생성: `feature/auth-system`
- [ ] User 모델 설계 및 구현
- [ ] OAuth2 라이브러리 통합 (authlib, httpx)
- [ ] JWT 토큰 인증 시스템
- [ ] 카카오/네이버 소셜 로그인 API
- [ ] 프론트엔드 로그인 컴포넌트

### 2단계: 번호 저장 및 관리 (1주)
- [ ] SavedRecommendation 모델 구현
- [ ] 번호 저장/조회 API
- [ ] "저장" 버튼 UI 구현
- [ ] 내 번호 관리 페이지

### 3단계: 당첨 비교 시스템 (3주)
- [ ] WinningResult 모델 구현
- [ ] 당첨 비교 로직 개발
- [ ] APScheduler 자동 당첨 체크
- [ ] 당첨 알림 시스템
- [ ] 당첨 결과 페이지

### 4단계: 이력 관리 (1주)
- [ ] WinningHistory 확장
- [ ] 통계 대시보드
- [ ] 데이터 내보내기 기능

### 5단계: 유료 서비스 (2주)
- [ ] Subscription 모델
- [ ] 결제 연동
- [ ] 요금제 페이지
- [ ] API 제한 미들웨어

## 🛠 기술 스택 변경사항

### 백엔드 추가 라이브러리
```
authlib==1.2.1          # OAuth2 인증
httpx==0.25.0           # 비동기 HTTP 클라이언트
python-jose[cryptography]==3.3.0  # JWT 토큰 (기존 있음)
```

### 프론트엔드 추가 라이브러리
```
@tanstack/react-query   # 서버 상태 관리
chart.js               # 통계 차트
recharts               # React 차트 라이브러리
```

## 💰 수익 모델

### 요금제 구성
1. **무료 플랜**
   - 일일 추천 5개
   - 저장 번호 10개 제한
   - 기본 당첨 확인

2. **프리미엄 플랜** (월 9,900원)
   - 무제한 추천 생성
   - 무제한 번호 저장
   - 고급 패턴 분석
   - 당첨 예측 알고리즘
   - 통계 내보내기

3. **프로 플랜** (월 19,900원)
   - 프리미엄 모든 기능
   - AI 맞춤 분석
   - 우선 기술지원
   - 베타 기능 우선 체험

## 📈 예상 효과

- **사용자 유지율 향상**: 계정 시스템으로 재방문율 증가
- **수익성 확보**: 유료 서비스로 지속가능한 비즈니스 모델
- **사용자 경험 개선**: 개인화된 서비스로 만족도 증가
- **데이터 축적**: 사용자 행동 분석으로 서비스 개선 가능

## ⚠️ 주의사항

1. **개인정보 보호**: GDPR, 개인정보보호법 준수
2. **보안**: JWT 토큰 관리, OAuth2 보안 설정
3. **성능**: 대용량 사용자 데이터 처리 최적화
4. **법적 검토**: 로또 관련 서비스 규제 확인

## 📅 마일스톤

- **2025.01.23**: 1단계 완료 (소셜 로그인)
- **2025.01.30**: 2단계 완료 (번호 저장)
- **2025.02.20**: 3단계 완료 (당첨 비교)
- **2025.02.27**: 4단계 완료 (이력 관리)
- **2025.03.13**: 5단계 완료 (유료 서비스)
- **2025.03.20**: 전체 테스트 및 배포

---

💡 **이 문서는 개발 진행에 따라 지속적으로 업데이트됩니다.**